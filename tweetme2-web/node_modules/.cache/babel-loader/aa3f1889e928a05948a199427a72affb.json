{"ast":null,"code":"import _toConsumableArray from\"/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Tweet}from'./detail';import{apiTweetList}from'./lookup';export function TweetList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tweetsInit=_useState2[0],setTweetsInit=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tweets=_useState4[0],setTweets=_useState4[1];var _useState5=useState([null]),_useState6=_slicedToArray(_useState5,2),nextUrl=_useState6[0],setNextUrl=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),tweetsDidSet=_useState8[0],setTweetsDidSet=_useState8[1];useEffect(function(){var final=_toConsumableArray(props.newTweets).concat(tweetsInit);if(final.length!==tweets.length){setTweets(final);}},[props.newTweets,tweets,tweetsInit]);useEffect(function(){if(tweetsDidSet===false){var handleTweetListLookup=function handleTweetListLookup(response,status){if(status===200){setNextUrl(response.next);setTweetsInit(response.results);setTweetsDidSet(true);}else{alert('There was an error!');}};apiTweetList(props.username,handleTweetListLookup);}},[tweetsInit,tweetsDidSet,setTweetsDidSet,props.username]);var handleDidRetweet=function handleDidRetweet(newTweet){var updateTweetsInit=_toConsumableArray(tweetsInit);updateTweetsInit.unshift(newTweet);setTweetsInit(updateTweetsInit);var updateFinalTweets=_toConsumableArray(tweets);updateFinalTweets.unshift(tweets);setTweets(updateFinalTweets);};var handleLoadNext=function handleLoadNext(event){event.preventDefault();if(nextUrl!==null){var handleLoadNextResponse=function handleLoadNextResponse(response,status){if(status===200){setNextUrl(response.next);var newTweets=_toConsumableArray(tweets).concat(response.results);setTweetsInit(newTweets);setTweets(newTweets);}else{alert('There was an error!');}};apiTweetList(props.username,handleLoadNextResponse,nextUrl);}};return/*#__PURE__*/React.createElement(React.Fragment,null,tweets.map(function(item,index){return/*#__PURE__*/React.createElement(Tweet,{tweet:item,didRetweet:handleDidRetweet,className:\"my-5 py-5 border bg-white text-dark\",key:\"\".concat(index,\"-{item.id}\")});}),nextUrl!==null&&/*#__PURE__*/React.createElement(\"button\",{onClick:handleLoadNext,className:\"btn btn-outline-primary\"},\"Load next\"));}","map":{"version":3,"sources":["/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/src/tweets/list.js"],"names":["React","useEffect","useState","Tweet","apiTweetList","TweetList","props","tweetsInit","setTweetsInit","tweets","setTweets","nextUrl","setNextUrl","tweetsDidSet","setTweetsDidSet","final","newTweets","concat","length","handleTweetListLookup","response","status","next","results","alert","username","handleDidRetweet","newTweet","updateTweetsInit","unshift","updateFinalTweets","handleLoadNext","event","preventDefault","handleLoadNextResponse","map","item","index"],"mappings":"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","sourcesContent":["import React, {useEffect, useState}  from 'react'\nimport {Tweet} from './detail'\nimport {apiTweetList } from './lookup'\n\nexport function TweetList(props) {\n    const [tweetsInit, setTweetsInit] = useState([])\n    const [tweets, setTweets] = useState([])\n    const [nextUrl, setNextUrl] = useState([null])\n    const [tweetsDidSet, setTweetsDidSet] = useState(false)\n    useEffect(() => {\n        const final = [...props.newTweets].concat(tweetsInit)\n        if (final.length !== tweets.length){\n            setTweets(final)\n        }\n    },[props.newTweets, tweets, tweetsInit])\n\n    useEffect(() => {\n        if (tweetsDidSet === false) {\n            const handleTweetListLookup = (response, status) => {\n                if (status === 200) {\n                    setNextUrl(response.next)\n                    setTweetsInit(response.results)\n                    setTweetsDidSet(true)\n                } else {\n                    alert('There was an error!')\n                }\n            }\n            apiTweetList(props.username, handleTweetListLookup)\n        }\n    }, [tweetsInit, tweetsDidSet, setTweetsDidSet, props.username])\n    \n    const handleDidRetweet = (newTweet) => {\n        const updateTweetsInit = [...tweetsInit]\n        updateTweetsInit.unshift(newTweet)\n        setTweetsInit(updateTweetsInit)\n        const updateFinalTweets = [...tweets]\n        updateFinalTweets.unshift(tweets)\n        setTweets(updateFinalTweets)\n    }\n\n    const handleLoadNext = (event   ) => {\n        event.preventDefault()\n        if (nextUrl !== null){\n            const handleLoadNextResponse = (response, status) => {\n                if (status === 200) {\n                    setNextUrl(response.next)\n                    const newTweets = [...tweets].concat(response.results)\n                    setTweetsInit(newTweets)\n                    setTweets(newTweets)\n                } else {\n                    alert('There was an error!')\n                }\n            }\n            apiTweetList(props.username, handleLoadNextResponse, nextUrl)\n        }\n    }\n\n    return <React.Fragment>{tweets.map((item, index)=>{\n        return <Tweet \n        tweet={item} \n        didRetweet = {handleDidRetweet}\n        className='my-5 py-5 border bg-white text-dark' \n        key={`${index}-{item.id}`}/>\n    })}\n    {nextUrl!== null && <button onClick={handleLoadNext} className='btn btn-outline-primary'>Load next</button>}\n    </React.Fragment>\n}\n"]},"metadata":{},"sourceType":"module"}
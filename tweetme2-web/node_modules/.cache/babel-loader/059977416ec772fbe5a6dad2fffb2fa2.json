{"ast":null,"code":"import _slicedToArray from\"/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{apiProfileDetail,apiProfileFollowToggle}from'./lookup';import{UserDisplay,UserPicture}from\"./components\";import{DisplayCount}from'./utils';function ProfileBadge(props){var user=props.user,didFollowToggle=props.didFollowToggle,profileLoading=props.profileLoading;var currentVerb=user&&user.is_following?\"Unfollow\":\"Follow\";currentVerb=profileLoading?\"Loading...\":currentVerb;var handleFollowingToggle=function handleFollowingToggle(event){event.preventDefault();if(didFollowToggle&&!profileLoading){didFollowToggle(currentVerb);}};return user?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(UserPicture,{user:user,hideLink:true}),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(UserDisplay,{user:user,includeFullname:true,hideLink:true})),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(DisplayCount,null,user.follower_count),\" \",user.follower_count>1?\"followers\":\"follower\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(DisplayCount,null,user.following_count),\" following\"),/*#__PURE__*/React.createElement(\"p\",null,user.location),/*#__PURE__*/React.createElement(\"p\",null,user.bio),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:handleFollowingToggle},currentVerb)):null;}export function ProfileBadgeComponent(props){var username=props.username;// lookup\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),didLookup=_useState2[0],setDidLookup=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),profile=_useState4[0],setProfile=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),profileLoading=_useState6[0],setProfileLoading=_useState6[1];var handleBackendLookup=function handleBackendLookup(response,status){if(status===200){setProfile(response);}else{alert(\"the was an error finding your tweet\");}};useEffect(function(){if(didLookup===false){apiProfileDetail(username,handleBackendLookup);setDidLookup(true);}},[username,didLookup,setDidLookup]);var handleNewFollow=function handleNewFollow(actionVerb){apiProfileFollowToggle(username,actionVerb,function(response,status){// console.log(response, status)\nif(status===200){setProfile(response);// apiProfileDetail(username, handleBackendLookup)\n}setProfileLoading(false);});setProfileLoading(true);};return didLookup===false?\"Loading...\":profile?/*#__PURE__*/React.createElement(ProfileBadge,{user:profile,didFollowToggle:handleNewFollow,profileLoading:profileLoading}):null;}","map":{"version":3,"sources":["/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/src/profiles/badge.js"],"names":["React","useState","useEffect","apiProfileDetail","apiProfileFollowToggle","UserDisplay","UserPicture","DisplayCount","ProfileBadge","props","user","didFollowToggle","profileLoading","currentVerb","is_following","handleFollowingToggle","event","preventDefault","follower_count","following_count","location","bio","ProfileBadgeComponent","username","didLookup","setDidLookup","profile","setProfile","setProfileLoading","handleBackendLookup","response","status","alert","handleNewFollow","actionVerb"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\n\nimport {apiProfileDetail, apiProfileFollowToggle} from './lookup'\nimport { UserDisplay, UserPicture } from \"./components\"\nimport {DisplayCount} from './utils'\n\nfunction ProfileBadge(props) {\n    const {user, didFollowToggle, profileLoading} = props\n    let currentVerb = (user && user.is_following)? \"Unfollow\" : \"Follow\"\n    currentVerb =profileLoading ? \"Loading...\" : currentVerb\n    const handleFollowingToggle = (event) => {\n        event.preventDefault()\n        if (didFollowToggle && !profileLoading){\n            didFollowToggle(currentVerb)\n        }\n    }\n    return user ? <div>\n        <UserPicture user={user} hideLink/>\n        <p><UserDisplay user={user} includeFullname hideLink/></p>\n        <p><DisplayCount>{user.follower_count}</DisplayCount> {user.follower_count>1?\"followers\":\"follower\"}</p>\n        <p><DisplayCount>{user.following_count}</DisplayCount> following</p>\n        <p>{user.location}</p>\n        <p>{user.bio}</p>\n\n        <button className='btn btn-primary' onClick={handleFollowingToggle}>{currentVerb}</button>\n    </div> :null\n}\n\nexport function ProfileBadgeComponent(props){\n    const {username} = props\n    // lookup\n    const [didLookup, setDidLookup] = useState(false)\n    const [profile, setProfile] = useState(null)\n    const [profileLoading, setProfileLoading] = useState(false)\n    const handleBackendLookup = (response, status) => {\n        if (status===200){\n            setProfile(response)\n        } else {\n            alert(\"the was an error finding your tweet\")\n        }\n    }\n    useEffect(()=> {\n        if (didLookup===false){\n            apiProfileDetail(username, handleBackendLookup)\n            setDidLookup(true)\n        }\n    }, [username, didLookup, setDidLookup])\n\n    const handleNewFollow = (actionVerb) => {\n        apiProfileFollowToggle(username, actionVerb, (response, status)=>{\n            // console.log(response, status)\n            if (status===200){\n                setProfile(response)\n                // apiProfileDetail(username, handleBackendLookup)\n            }\n            setProfileLoading(false)\n        })\n        setProfileLoading(true)\n    }\n    return didLookup ===false? \"Loading...\" : profile? <ProfileBadge user={profile} didFollowToggle={handleNewFollow} profileLoading={profileLoading}/> : null\n}"]},"metadata":{},"sourceType":"module"}
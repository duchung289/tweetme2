{"ast":null,"code":"import _toConsumableArray from\"/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{loadTweets}from'../lookup';export function TweetsComponent(props){var textAreaRef=React.createRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newTweets=_useState2[0],setNewTweets=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var newValue=textAreaRef.current.value;var tempNewTweets=_toConsumableArray(newTweets);// change this to server call\ntempNewTweets.unshift({content:newValue,likes:0,id:134453});setNewTweets(tempNewTweets);textAreaRef.current.value='';};return/*#__PURE__*/React.createElement(\"div\",{className:props.className},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-3\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"textarea\",{ref:textAreaRef,required:true,className:\"form-control\",name:\"tweet\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary my-3\"},\"Tweet\"))),/*#__PURE__*/React.createElement(TweetList,{newTweets:newTweets}));}export function ActionBtn(props){var tweet=props.tweet,action=props.action;var _useState3=useState(tweet.likes?tweet.likes:0),_useState4=_slicedToArray(_useState3,2),likes=_useState4[0],setLikes=_useState4[1];var _useState5=useState(tweet.likes===true?true:false),_useState6=_slicedToArray(_useState5,2),userLike=_useState6[0],setUserLike=_useState6[1];var className=props.className?props.className:'btn btn-primary btn-sm';var actionDisplay=action.display?action.display:'Action';var handleClick=function handleClick(event){event.preventDefault();if(action.type==='like'){if(userLike===true){// perhaps I unlike it\nsetLikes(likes-1);setUserLike(false);}else{setLikes(likes+1);setUserLike(true);}}};var display=action.type==='like'?\"\".concat(likes,\" \").concat(actionDisplay):actionDisplay;return/*#__PURE__*/React.createElement(\"button\",{className:className,onClick:handleClick},display);}export function Tweet(props){var tweet=props.tweet;var className=props.className?props.className:'col-10 mx-auto col-md-6';return/*#__PURE__*/React.createElement(\"div\",{className:className},/*#__PURE__*/React.createElement(\"p\",null,tweet.id,\" - \",tweet.content),/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-group\"},/*#__PURE__*/React.createElement(ActionBtn,{tweet:tweet,action:{type:'like',display:'Likes'}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:tweet,action:{type:'unlike',display:'Unlike'}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:tweet,action:{type:'retweet',display:'ReTweet'}})));}export function TweetList(props){var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),tweetsInit=_useState8[0],setTweetsInit=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),tweets=_useState10[0],setTweets=_useState10[1];useEffect(function(){var final=_toConsumableArray(props.newTweets).concat(tweetsInit);if(final.length!==tweets.length){setTweets(final);}},[props.newTweets,tweets,tweetsInit]);useEffect(function(){var myCallback=function myCallback(response,status){if(status===200){setTweetsInit(response);}else{alert('There was an error!');}};loadTweets(myCallback);},[tweetsInit]);return tweets.map(function(item,index){return/*#__PURE__*/React.createElement(Tweet,{tweet:item,className:\"my-5 py-5 border bg-white text-dark\",key:\"\".concat(index,\"-{item.id}\")});});}","map":{"version":3,"sources":["/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/src/tweets/components.js"],"names":["React","useEffect","useState","loadTweets","TweetsComponent","props","textAreaRef","createRef","newTweets","setNewTweets","handleSubmit","event","preventDefault","newValue","current","value","tempNewTweets","unshift","content","likes","id","className","ActionBtn","tweet","action","setLikes","userLike","setUserLike","actionDisplay","display","handleClick","type","Tweet","TweetList","tweetsInit","setTweetsInit","tweets","setTweets","final","concat","length","myCallback","response","status","alert","map","item","index"],"mappings":"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","sourcesContent":["import React, {useEffect, useState}  from 'react'\n\nimport {loadTweets} from '../lookup'\n\n\nexport function TweetsComponent(props) {\n    const textAreaRef = React.createRef()\n    const [newTweets, setNewTweets] = useState([])\n    const handleSubmit = (event) => {\n        event.preventDefault()\n        const newValue=textAreaRef.current.value\n        const tempNewTweets = [...newTweets]\n        // change this to server call\n        tempNewTweets.unshift({\n            content: newValue,\n            likes: 0,\n            id: 134453\n        })\n        setNewTweets(tempNewTweets)\n        textAreaRef.current.value = ''\n    }\n    return <div className={props.className}>\n        <div className='col-12 mb-3'>\n            <form onSubmit={handleSubmit}>        \n                <textarea ref={textAreaRef} required={true} className='form-control' name = 'tweet'>\n\n                </textarea>\n                <button type='submit' className='btn btn-primary my-3'>Tweet</button>\n            </form>\n        </div>\n        <TweetList newTweets={newTweets}/>\n    </div>\n    \n}\n\nexport function ActionBtn(props) {\n    const {tweet, action} = props\n    const [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0)\n    const [userLike, setUserLike] = useState(tweet.likes ===true ? true : false)\n    const className = props.className ? props.className:'btn btn-primary btn-sm'\n    const actionDisplay = action.display? action.display : 'Action'\n    const handleClick = (event) =>{\n        event.preventDefault()\n        if (action.type === 'like'){\n            if (userLike ===true) {\n                // perhaps I unlike it\n                setLikes(likes -1)\n                setUserLike(false)\n            } else {\n                setLikes(likes + 1)\n                setUserLike(true)\n            }\n        }\n    }\n    const display = action.type === 'like' ? `${likes} ${actionDisplay}` : actionDisplay\n    \n    return <button className={className} onClick={handleClick}>{display}</button>\n}\n  \nexport  function Tweet(props) {\n    const {tweet} = props\n    const className = props.className ? props.className:'col-10 mx-auto col-md-6'\n    return <div className={className}>\n      <p>{tweet.id} - {tweet.content}</p>\n      <div className='btn btn-group'>\n        <ActionBtn tweet={tweet} action={{type:'like', display:'Likes'}}/>\n        <ActionBtn tweet={tweet} action={{type:'unlike', display:'Unlike'}}/>\n        <ActionBtn tweet={tweet} action={{type:'retweet', display:'ReTweet'}}/>\n      </div>\n    </div>\n}\n  \nexport function TweetList(props) {\n    const [tweetsInit, setTweetsInit] = useState([])\n    const [tweets, setTweets] = useState([])\n    useEffect(() => {\n        let final = [...props.newTweets].concat(tweetsInit)\n        if (final.length !== tweets.length){\n            setTweets(final)\n        }\n    },[props.newTweets, tweets, tweetsInit])\n\n    useEffect(() => {\n      const myCallback = (response, status) => {\n        if (status ===200) {\n            setTweetsInit(response)\n        } else {\n            alert('There was an error!')\n        }\n      }\n      loadTweets(myCallback)\n    }, [tweetsInit])\n    return tweets.map((item, index)=>{\n      return <Tweet tweet={item} className='my-5 py-5 border bg-white text-dark' key={`${index}-{item.id}`}/>\n    })\n}\n"]},"metadata":{},"sourceType":"module"}
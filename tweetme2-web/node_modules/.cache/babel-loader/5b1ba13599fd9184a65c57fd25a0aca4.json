{"ast":null,"code":"import _wrapRegExp from\"/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{ActionBtn}from'./buttons';import{UserDisplay,UserPicture}from'../profiles';export function ParentTweet(props){var tweet=props.tweet;return tweet.parent?/*#__PURE__*/React.createElement(Tweet,{isRetweet:true,retweeter:props.retweeter,hideActions:true,className:'',tweet:tweet.parent}):null;}export function Tweet(props){var tweet=props.tweet,didRetweet=props.didRetweet,hideActions=props.hideActions,isRetweet=props.isRetweet,retweeter=props.retweeter;var _useState=useState(props.tweet?props.tweet:null),_useState2=_slicedToArray(_useState,2),actionTweet=_useState2[0],setActionTweet=_useState2[1];var className=props.className?props.className:'col-10 mx-auto col-md-9';className=isRetweet===true?\"\".concat(className,\" p-2 border rounded\"):className;var path=window.location.pathname;var match=path.match(/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{tweetid:1}));var urlTweetId=match?match.groups.tweetid:-1;var isDetail=\"\".concat(tweet.id)===\"\".concat(urlTweetId);var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(tweet.id);};var handlePerformAction=function handlePerformAction(newActionTweet,status){if(status===200){setActionTweet(newActionTweet);}else if(status===201){if(didRetweet){didRetweet(newActionTweet);}}};return/*#__PURE__*/React.createElement(\"div\",{className:className},isRetweet===true&&/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"small text-muted\"},\"Retweet via \",/*#__PURE__*/React.createElement(UserDisplay,{user:retweeter}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(UserPicture,{user:tweet.user})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-11\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(UserDisplay,{includeFullname:true,user:tweet.user})),/*#__PURE__*/React.createElement(\"p\",null,tweet.content),/*#__PURE__*/React.createElement(ParentTweet,{tweet:tweet,retweeter:tweet.user})),/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-group px-0\"},actionTweet&&hideActions!==true&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:'like',display:'Likes'}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:'unlike',display:'Unlike'}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:'retweet',display:'ReTweet'}})),isDetail===true?null:/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:handleLink},\"View\")))));}","map":{"version":3,"sources":["/Users/administrator/Desktop/Development-Projects/CodeEntrepreneurs/FollowCoding/tweetme2/tweetme2-web/src/tweets/detail.js"],"names":["React","useState","ActionBtn","UserDisplay","UserPicture","ParentTweet","props","tweet","parent","retweeter","Tweet","didRetweet","hideActions","isRetweet","actionTweet","setActionTweet","className","path","window","location","pathname","match","urlTweetId","groups","tweetid","isDetail","id","handleLink","event","preventDefault","href","handlePerformAction","newActionTweet","status","user","content","type","display"],"mappings":"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","sourcesContent":["import React, {useState}  from 'react'\nimport {ActionBtn} from './buttons'\n\nimport {UserDisplay, UserPicture} from '../profiles'\n\nexport function ParentTweet(props) {\n    const {tweet} = props\n    return tweet.parent? <Tweet isRetweet retweeter={props.retweeter} hideActions className={''} tweet={tweet.parent}/> : null\n}\n  \nexport  function Tweet(props) {\n    const {tweet, didRetweet, hideActions, isRetweet, retweeter} = props\n    const [actionTweet,setActionTweet] = useState(props.tweet ? props.tweet : null)\n    let className = props.className ? props.className:'col-10 mx-auto col-md-9'\n    className = isRetweet ===true? `${className} p-2 border rounded` : className\n    const path = window.location.pathname\n    const match = path.match(/(?<tweetid>\\d+)/)\n    const urlTweetId = match ? match.groups.tweetid : -1          \n    const isDetail = `${tweet.id}` ===  `${urlTweetId}`\n    const handleLink = (event) => {\n        event.preventDefault()\n        window.location.href = `/${tweet.id}`\n    }\n    const handlePerformAction = (newActionTweet, status) => {\n        if (status ===200){\n            setActionTweet(newActionTweet)\n        } else if (status === 201) {\n            if (didRetweet){\n                didRetweet(newActionTweet)\n            }\n        }\n        \n    }\n    return <div className={className}>\n        {isRetweet === true && <div className='mb-2'>\n            <span className='small text-muted'>Retweet via <UserDisplay user={retweeter}/></span>\n        </div>}\n        <div className='d-flex'>\n            <div className=''>\n                <UserPicture user={tweet.user}/>\n            </div> \n            <div className='col-11'>                \n                <div>\n                    <p>\n                        <UserDisplay includeFullname user={tweet.user}/>\n                    </p>\n                    <p>{tweet.content}</p>\n                    \n                    <ParentTweet tweet={tweet} retweeter={tweet.user}/>\n                </div>\n            \n                <div className='btn btn-group px-0'>\n                    {(actionTweet && hideActions !== true) && <React.Fragment>\n                        <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type:'like', display:'Likes'}}/>\n                        <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type:'unlike', display:'Unlike'}}/>\n                        <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type:'retweet', display:'ReTweet'}}/>\n                    </React.Fragment>}\n                    {isDetail === true ? null : <button className='btn btn-outline-primary btn-sm' onClick={handleLink}>View</button>}\n                </div> \n            </div>\n        </div>\n    </div>\n}"]},"metadata":{},"sourceType":"module"}